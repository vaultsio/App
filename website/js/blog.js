// Blog data (in a real app, this would come from an API or CMS)
const blogPosts = [
    {
        id: 1,
        title: "VaultSio 2.0 - Major Update Released",
        excerpt: "We're excited to announce VaultSio 2.0 with powerful new features including advanced analytics, budget predictions, and multi-currency support.",
        content: `
            <p>We're thrilled to announce the release of VaultSio 2.0, our biggest update yet! This release brings powerful new features and improvements that will make managing your finances easier and more insightful than ever.</p>
            
            <h2>What's New</h2>
            
            <h3>Advanced Analytics Dashboard</h3>
            <p>Get deeper insights into your spending habits with our new analytics dashboard. Visualize your financial data with beautiful charts and graphs that help you understand where your money goes.</p>
            
            <h3>Smart Budget Predictions</h3>
            <p>Our AI-powered budget prediction feature analyzes your spending patterns and helps you set realistic budgets for different categories. Get alerts when you're likely to exceed your budget based on your current spending trends.</p>
            
            <h3>Multi-Currency Support</h3>
            <p>Track expenses in multiple currencies with automatic conversion. Perfect for travelers and international businesses. Exchange rates are updated in real-time to ensure accuracy.</p>
            
            <h3>Enhanced Privacy Features</h3>
            <p>We've added new security features including biometric authentication, app lock, and encrypted cloud backup. Your financial data has never been more secure.</p>
            
            <h2>Performance Improvements</h2>
            <p>VaultSio 2.0 is faster and more responsive than ever. We've optimized the app to reduce loading times by 40% and improved battery efficiency.</p>
            
            <h2>How to Update</h2>
            <p>The update is rolling out now on both iOS and Android. Simply visit the App Store or Google Play Store to download the latest version.</p>
            
            <p>We can't wait for you to try these new features. As always, we'd love to hear your feedback!</p>
        `,
        category: "updates",
        author: "VaultSio Team",
        date: "2025-12-10",
        readTime: "4 min read",
        image: "assets/images/logo.svg",
        tags: ["update", "features", "release"]
    },
    {
        id: 2,
        title: "10 Tips to Master Your Budget in 2025",
        excerpt: "Start the year right with these practical budgeting tips that will help you take control of your finances and achieve your financial goals.",
        content: `
            <p>As we step into 2025, there's no better time to take control of your finances. Whether you're looking to save more, reduce debt, or simply understand where your money goes, these 10 tips will help you master your budget.</p>
            
            <h2>1. Track Every Expense</h2>
            <p>The foundation of good budgeting is knowing exactly where your money goes. Use VaultSio to automatically track and categorize every transaction.</p>
            
            <h2>2. Set Realistic Goals</h2>
            <p>Don't try to change everything overnight. Set achievable monthly and yearly goals that align with your income and lifestyle.</p>
            
            <h2>3. Use the 50/30/20 Rule</h2>
            <p>Allocate 50% of your income to needs, 30% to wants, and 20% to savings and debt repayment. This simple rule creates a balanced budget.</p>
            
            <h2>4. Automate Your Savings</h2>
            <p>Set up automatic transfers to your savings account. When you don't see the money, you're less likely to spend it.</p>
            
            <h2>5. Review Your Subscriptions</h2>
            <p>Cancel unused subscriptions and services. These small recurring charges add up quickly over time.</p>
            
            <h2>6. Build an Emergency Fund</h2>
            <p>Aim for 3-6 months of expenses in an easily accessible savings account. This protects you from unexpected financial shocks.</p>
            
            <h2>7. Plan for Irregular Expenses</h2>
            <p>Budget for annual expenses like insurance, car maintenance, and gifts by setting aside money monthly.</p>
            
            <h2>8. Use Cash for Discretionary Spending</h2>
            <p>Withdraw a set amount of cash for entertainment and dining out. When it's gone, it's gone.</p>
            
            <h2>9. Review and Adjust Monthly</h2>
            <p>Your budget isn't set in stone. Review it monthly and adjust based on your actual spending patterns.</p>
            
            <h2>10. Celebrate Your Wins</h2>
            <p>Acknowledge your progress! Stayed under budget? Reached a savings goal? Celebrate these achievements to stay motivated.</p>
            
            <p>Remember, budgeting is a skill that improves with practice. VaultSio makes it easier by providing the tools and insights you need to succeed.</p>
        `,
        category: "tips",
        author: "Sarah Johnson",
        date: "2025-12-08",
        readTime: "6 min read",
        image: "assets/images/logo.svg",
        tags: ["budgeting", "tips", "money-management", "savings"]
    },
    {
        id: 3,
        title: "Complete Guide to Expense Tracking",
        excerpt: "Learn how to effectively track your expenses and gain valuable insights into your spending habits with this comprehensive guide.",
        content: `
            <p>Expense tracking is the cornerstone of financial wellness. In this comprehensive guide, we'll walk you through everything you need to know to become a pro at tracking your expenses.</p>
            
            <h2>Why Track Expenses?</h2>
            <p>Before diving into the how, let's understand the why. Expense tracking helps you:</p>
            <ul>
                <li>Identify unnecessary spending</li>
                <li>Stay within your budget</li>
                <li>Reach financial goals faster</li>
                <li>Make informed financial decisions</li>
                <li>Reduce financial stress</li>
            </ul>
            
            <h2>Getting Started</h2>
            
            <h3>Choose Your Tool</h3>
            <p>While pen and paper work, digital tools like VaultSio make tracking effortless with automatic categorization, cloud sync, and insightful analytics.</p>
            
            <h3>Set Up Categories</h3>
            <p>Organize your expenses into meaningful categories:</p>
            <ul>
                <li>Housing (rent, mortgage, utilities)</li>
                <li>Transportation (car payment, gas, public transit)</li>
                <li>Food (groceries, dining out)</li>
                <li>Healthcare</li>
                <li>Entertainment</li>
                <li>Personal care</li>
                <li>Debt payments</li>
                <li>Savings</li>
            </ul>
            
            <h2>Best Practices</h2>
            
            <h3>Track Everything</h3>
            <p>Record every expense, no matter how small. That daily coffee? Track it. Parking meter? Track it. Small purchases add up quickly.</p>
            
            <h3>Be Consistent</h3>
            <p>Make it a habit to record expenses immediately or at the end of each day. The longer you wait, the more likely you'll forget.</p>
            
            <h3>Review Regularly</h3>
            <p>Set aside time weekly to review your spending. Look for patterns, surprises, and opportunities to save.</p>
            
            <h3>Use Multiple Wallets</h3>
            <p>Separate personal and business expenses, or create different wallets for different savings goals. VaultSio makes this easy with unlimited wallets.</p>
            
            <h2>Advanced Tips</h2>
            
            <h3>Analyze Your Data</h3>
            <p>Use VaultSio's analytics features to identify trends. Are you spending more on weekends? Do certain stores drain your wallet?</p>
            
            <h3>Set Spending Alerts</h3>
            <p>Configure alerts to notify you when you approach budget limits in specific categories.</p>
            
            <h3>Track Income Too</h3>
            <p>Don't just track expenses. Record all income sources to get a complete picture of your cash flow.</p>
            
            <h2>Common Mistakes to Avoid</h2>
            <ul>
                <li>Being too detailed - Keep it simple and sustainable</li>
                <li>Forgetting to categorize - Uncategorized expenses defeat the purpose</li>
                <li>Not planning for irregular expenses - Budget for annual or quarterly costs</li>
                <li>Giving up too soon - Stick with it for at least 3 months to see real insights</li>
            </ul>
            
            <h2>Conclusion</h2>
            <p>Effective expense tracking isn't about restriction - it's about awareness and intentional spending. With the right tools and habits, you'll gain control over your finances and make progress toward your goals.</p>
            
            <p>Ready to start? Download VaultSio today and begin your journey to financial clarity.</p>
        `,
        category: "guides",
        author: "Michael Chen",
        date: "2025-12-05",
        readTime: "8 min read",
        image: "assets/images/logo.svg",
        tags: ["guide", "expense-tracking", "tutorial", "beginner"]
    },
    {
        id: 4,
        title: "Introducing Cloud Sync & Backup",
        excerpt: "Your data is now automatically synced across all your devices with end-to-end encryption. Never lose your financial data again.",
        content: `
            <p>We're excited to introduce one of our most requested features: Cloud Sync & Backup. Your financial data is now seamlessly synchronized across all your devices with military-grade encryption.</p>
            
            <h2>How It Works</h2>
            <p>Cloud Sync uses Firebase Cloud Storage to securely backup and sync your data in real-time. Every transaction, budget, and wallet is automatically saved and accessible from any device where you're signed in.</p>
            
            <h3>Real-Time Synchronization</h3>
            <p>Changes made on one device instantly appear on all your other devices. Add an expense on your phone, see it immediately on your tablet.</p>
            
            <h3>End-to-End Encryption</h3>
            <p>Your data is encrypted on your device before being sent to the cloud. Only you can decrypt and access your information.</p>
            
            <h3>Automatic Backup</h3>
            <p>Your data is automatically backed up every time you make a change. No more manual backups or risk of losing months of financial records.</p>
            
            <h2>Privacy & Security</h2>
            <p>We take your privacy seriously. Here's how we protect your data:</p>
            <ul>
                <li>All data is encrypted using AES-256 encryption</li>
                <li>Your encryption keys never leave your device</li>
                <li>We can't see or access your financial data</li>
                <li>Data centers are certified and compliant with international standards</li>
                <li>Regular security audits and penetration testing</li>
            </ul>
            
            <h2>Getting Started</h2>
            <p>Cloud Sync is enabled by default for all VaultSio users. Simply sign in with your account, and your data will begin syncing automatically.</p>
            
            <h3>For New Users</h3>
            <p>Create an account in the app, and all your data will be backed up to the cloud from the start.</p>
            
            <h3>For Existing Users</h3>
            <p>Sign in to your existing account, and your local data will be uploaded and synced with the cloud.</p>
            
            <h2>Managing Your Data</h2>
            <p>You have complete control over your data:</p>
            <ul>
                <li>Download a local copy anytime</li>
                <li>Delete your cloud data from account settings</li>
                <li>Use the app offline - changes sync when you're back online</li>
                <li>Export your data in multiple formats (CSV, PDF, Excel)</li>
            </ul>
            
            <h2>Premium Features</h2>
            <p>Premium users get additional benefits:</p>
            <ul>
                <li>Version history - Restore previous versions of your data</li>
                <li>Increased storage limits</li>
                <li>Priority sync speed</li>
                <li>Family sharing - Share budgets with up to 5 family members</li>
            </ul>
            
            <p>Cloud Sync gives you peace of mind knowing your financial data is safe, secure, and always accessible. Try it today!</p>
        `,
        category: "features",
        author: "VaultSio Team",
        date: "2025-12-01",
        readTime: "5 min read",
        image: "assets/images/logo.svg",
        tags: ["cloud-sync", "backup", "security", "features"]
    },
    {
        id: 5,
        title: "5 Ways to Save Money on Groceries",
        excerpt: "Reduce your grocery bill with these proven strategies that don't require extreme couponing or sacrifice on quality.",
        content: `
            <p>Groceries are one of the biggest recurring expenses for most households. The good news? There are simple strategies to reduce your grocery bill without sacrificing nutrition or taste.</p>
            
            <h2>1. Plan Your Meals</h2>
            <p>Meal planning is the foundation of grocery savings. Before you shop:</p>
            <ul>
                <li>Check what you already have</li>
                <li>Plan meals around sales and seasonal items</li>
                <li>Make a detailed shopping list</li>
                <li>Stick to your list to avoid impulse purchases</li>
            </ul>
            
            <h2>2. Buy Generic Brands</h2>
            <p>Store brands are often 20-30% cheaper than name brands and usually made by the same manufacturers. Try generic versions of:</p>
            <ul>
                <li>Basic staples (rice, pasta, flour)</li>
                <li>Canned goods</li>
                <li>Frozen vegetables</li>
                <li>Dairy products</li>
            </ul>
            
            <h2>3. Shop Seasonally</h2>
            <p>Seasonal produce is fresher, tastier, and cheaper. In winter, focus on root vegetables and citrus. In summer, enjoy berries and stone fruits at their peak.</p>
            
            <h2>4. Reduce Food Waste</h2>
            <p>The average family wastes $1,500 worth of food annually. To minimize waste:</p>
            <ul>
                <li>Store food properly to extend freshness</li>
                <li>Use leftovers creatively</li>
                <li>Freeze items before they spoil</li>
                <li>Practice FIFO (First In, First Out)</li>
            </ul>
            
            <h2>5. Track Your Grocery Spending</h2>
            <p>Use VaultSio to track exactly how much you spend on groceries. You might be surprised by hidden costs like multiple small trips to convenience stores.</p>
            
            <h3>Set a Grocery Budget</h3>
            <p>Based on your tracking, set a realistic monthly grocery budget. VaultSio will alert you when you're approaching your limit.</p>
            
            <h3>Analyze Your Patterns</h3>
            <p>Review your grocery expenses monthly. Are you overspending on certain items? Shopping too frequently?</p>
            
            <h2>Bonus Tips</h2>
            <ul>
                <li>Shop with a full stomach - hungry shoppers spend 64% more</li>
                <li>Use cash back apps for additional savings</li>
                <li>Buy in bulk for non-perishables you use regularly</li>
                <li>Cook larger batches and freeze portions</li>
                <li>Grow herbs and simple vegetables at home</li>
            </ul>
            
            <p>Implement these strategies gradually, and you'll see your grocery bill decrease without feeling deprived. Track your progress in VaultSio to stay motivated!</p>
        `,
        category: "tips",
        author: "Emma Martinez",
        date: "2025-11-28",
        readTime: "5 min read",
        image: "assets/images/logo.svg",
        tags: ["savings", "groceries", "budgeting", "money-tips"]
    },
    {
        id: 6,
        title: "Understanding Your Spending Analytics",
        excerpt: "Learn how to interpret VaultSio's analytics dashboard to gain actionable insights into your financial behavior.",
        content: `
            <p>VaultSio's analytics dashboard provides powerful insights into your spending habits. But numbers and charts are only valuable if you know how to interpret them. Let's explore how to make the most of your analytics.</p>
            
            <h2>The Main Dashboard</h2>
            
            <h3>Total Balance Overview</h3>
            <p>Your dashboard shows your total balance across all wallets. This high-level view helps you understand your overall financial health at a glance.</p>
            
            <h3>Income vs. Expenses</h3>
            <p>The income vs. expenses chart is crucial. A healthy financial situation shows income consistently above expenses. If expenses regularly exceed income, it's time to make adjustments.</p>
            
            <h2>Category Breakdown</h2>
            <p>The category pie chart shows what percentage of your spending goes to each category. Use this to identify your biggest expense categories.</p>
            
            <h3>What to Look For</h3>
            <ul>
                <li><strong>Housing:</strong> Should be 25-30% of income</li>
                <li><strong>Transportation:</strong> Aim for under 15%</li>
                <li><strong>Food:</strong> 10-15% is typical</li>
                <li><strong>Entertainment:</strong> Keep under 10%</li>
            </ul>
            
            <h2>Spending Trends</h2>
            <p>The trends chart shows how your spending changes over time. Look for:</p>
            
            <h3>Seasonal Patterns</h3>
            <p>Do you spend more during holidays? Summer vacation? Understanding these patterns helps you budget better.</p>
            
            <h3>Increasing Trends</h3>
            <p>If spending in a category consistently increases, investigate why. Subscription creep? Lifestyle inflation?</p>
            
            <h3>One-Time Spikes</h3>
            <p>Large one-time expenses are normal (car repairs, medical bills). Don't let them distort your view of regular spending patterns.</p>
            
            <h2>Budget Performance</h2>
            <p>VaultSio shows how well you're sticking to your budgets. The traffic light system makes it easy:</p>
            <ul>
                <li><strong>Green:</strong> Under 75% of budget - you're doing great!</li>
                <li><strong>Yellow:</strong> 75-90% of budget - stay mindful</li>
                <li><strong>Red:</strong> Over 90% or exceeded - time to cut back</li>
            </ul>
            
            <h2>Time-Based Analysis</h2>
            <p>Compare different time periods to understand your progress:</p>
            
            <h3>Month-over-Month</h3>
            <p>Did you spend more or less than last month? By how much?</p>
            
            <h3>Year-over-Year</h3>
            <p>Annual comparisons help you see long-term trends and progress.</p>
            
            <h2>Taking Action</h2>
            <p>Analytics are only useful if they lead to action. Here's how to use your insights:</p>
            
            <h3>If Spending is Too High</h3>
            <ol>
                <li>Identify the top 3 categories where you overspend</li>
                <li>Set realistic reduction goals (start with 10-15%)</li>
                <li>Create specific strategies for each category</li>
                <li>Track progress monthly</li>
            </ol>
            
            <h3>If You're Under Budget</h3>
            <p>Great job! Consider:</p>
            <ul>
                <li>Increasing savings contributions</li>
                <li>Building an emergency fund</li>
                <li>Investing the surplus</li>
                <li>Planning for future large expenses</li>
            </ul>
            
            <h2>Advanced Analytics (Premium)</h2>
            <p>Premium users get access to additional analytics:</p>
            <ul>
                <li>Predictive spending forecasts</li>
                <li>Merchant-level analysis</li>
                <li>Custom date ranges and comparisons</li>
                <li>Export detailed reports</li>
            </ul>
            
            <p>Remember, the goal isn't perfection - it's progress. Use your analytics to make small, consistent improvements over time.</p>
        `,
        category: "guides",
        author: "David Park",
        date: "2025-11-25",
        readTime: "7 min read",
        image: "assets/images/logo.svg",
        tags: ["analytics", "guide", "insights", "tutorial"]
    }
];

// Store posts in localStorage for persistence
function savePosts() {
    localStorage.setItem('vaultsio_blog_posts', JSON.stringify(blogPosts));
}

// Load posts from localStorage or use default
function loadPosts() {
    const stored = localStorage.getItem('vaultsio_blog_posts');
    return stored ? JSON.parse(stored) : blogPosts;
}

// Initialize posts
savePosts();

// DOM elements
const blogGrid = document.getElementById('blogGrid');
const categoryFilters = document.getElementById('categoryFilters');
const searchInput = document.getElementById('blogSearch');
const noResults = document.getElementById('noResults');

// Current filter state
let currentCategory = 'all';
let searchQuery = '';

// Format date
function formatDate(dateString) {
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    return new Date(dateString).toLocaleDateString('en-US', options);
}

// Get category class
function getCategoryClass(category) {
    return `category-${category}`;
}

// Create blog card HTML
function createBlogCard(post) {
    return `
        <article class="blog-card">
            <div class="blog-card-image">
                <img src="${post.image}" alt="${post.title}">
                <div class="blog-card-category ${getCategoryClass(post.category)}">
                    ${post.category}
                </div>
            </div>
            <div class="blog-card-content">
                <div class="blog-card-meta">
                    <span><i class="fas fa-calendar"></i> ${formatDate(post.date)}</span>
                    <span><i class="fas fa-clock"></i> ${post.readTime}</span>
                </div>
                <h3>${post.title}</h3>
                <p>${post.excerpt}</p>
                <div class="blog-card-footer">
                    <div class="post-author">
                        <img src="assets/images/logo.svg" alt="${post.author}" class="author-avatar">
                        <span>${post.author}</span>
                    </div>
                    <a href="blog-post.html?id=${post.id}" class="read-more">
                        Read More <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </article>
    `;
}

// Filter and display posts
function displayPosts() {
    const posts = loadPosts();
    let filteredPosts = posts;

    // Filter by category
    if (currentCategory !== 'all') {
        filteredPosts = filteredPosts.filter(post => post.category === currentCategory);
    }

    // Filter by search query
    if (searchQuery) {
        filteredPosts = filteredPosts.filter(post => 
            post.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
            post.excerpt.toLowerCase().includes(searchQuery.toLowerCase()) ||
            post.content.toLowerCase().includes(searchQuery.toLowerCase()) ||
            post.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()))
        );
    }

    // Display results
    if (filteredPosts.length === 0) {
        blogGrid.innerHTML = '';
        noResults.style.display = 'block';
    } else {
        noResults.style.display = 'none';
        blogGrid.innerHTML = filteredPosts.map(post => createBlogCard(post)).join('');
    }
}

// Category filter click handler
categoryFilters.addEventListener('click', (e) => {
    if (e.target.classList.contains('filter-btn')) {
        // Update active state
        document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
        e.target.classList.add('active');
        
        // Update filter and display
        currentCategory = e.target.dataset.category;
        displayPosts();
    }
});

// Search input handler
searchInput.addEventListener('input', (e) => {
    searchQuery = e.target.value;
    displayPosts();
});

// Newsletter form handler
const newsletterForm = document.getElementById('newsletterForm');
newsletterForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const email = e.target.querySelector('input[type="email"]').value;
    
    // In a real app, this would send to a backend
    alert(`Thanks for subscribing with ${email}! You'll receive our latest updates.`);
    e.target.reset();
});

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    // Remove loading spinner
    document.querySelector('.loading-spinner')?.remove();
    
    // Display posts
    displayPosts();
});
